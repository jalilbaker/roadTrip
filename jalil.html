<!doctype html>
<html lang="en">
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link href="https://fonts.googleapis.com/css?family=Averia+Serif+Libre" rel="stylesheet">
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" type="text/css" href="../css/animate.css">
    <title>Roam - Plan your next Road Trip!</title>
</head>
<body>
    <nav class="navbar navbar-light bg-lgreen sticky-top">
        <a class="navbar-brand navbar-brand-custom f-s-25" href="#">
            <i class="fa fa-compass blue-black" aria-hidden="true"></i>
            ROAM
      </a>
    </nav>
    <div class="container-fluid bg-budget" style=" ">
        <div class="row main-height p-b-30">
            <div class="col-md-12 text-center m-t-40">
                <div class="row p-r-15 p-l-15">
                    <div class="col-md-12 col-sm-12 p-t-15" style="min-height: 300px;background:rgba(255,255,255, 0.9);">
                        <h1 class="p-r-15 p-t-15  p-l-15">Trip Summary</h1>
                        <h1 class="p-r-15 p-t-15  p-l-15">Budget: $</h1>
                          <ul class="nav justify-content-center sub-nav-b p-t-15" id="myTab" role="tablist">
                            <li class="nav-item">
                                <a class="nav-link disable tab-style" id="home-tab" data-toggle="tab" href="#home" role="tab" aria-controls="home" aria-selected="true"><i class="fa fa-car" aria-hidden="true"></i> {StartPoint}</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link active tab-style" id="profile-tab" data-toggle="tab" href="#profile" role="tab" aria-controls="profile" aria-selected="false"><i class="fa fa-map-marker" aria-hidden="true"></i> {WayPoint}</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link tab-style" id="contact-tab" data-toggle="tab" href="#contact" role="tab" aria-controls="contact" aria-selected="false"><i class="fa fa-map-marker" aria-hidden="true"></i> {EndPoint}</a>
                            </li>
                        </ul>
                        <div class="tab-content p-b-15" id="myTabContent">
                            <div class="tab-pane fade show active p-t-40" id="profile" role="tabpanel" aria-labelledby="profile-tab">
                                <div class="row">
                                    <div class="col-md-4">
                                        <div class="row">
                                            <div class="col-md-12 p-t-15">
                                                <p>
                                                    <i class="fa fa-3x fa-cutlery" aria-hidden="true"></i>
                                                </p>
                                                <h1>Food</h1>
                                            </div>
                                            <div class="col-md-12">
                                            <div class="card" style="">
                                                <img class="card-img-top" src="https://images.unsplash.com/photo-1473436303788-ab58469e12df?auto=format&fit=crop&w=1392&q=80" alt="Card image cap">
                                                <div class="card-body">
                                                    <h5 class="card-title" id="foodWayPntName">Food Name</h5>
                                                    <p class="card-text" id="foodWayPntDesc">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
                                                </div>
                                            </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="row">
                                            <div class="col-md-12 p-t-15">
                                                <p>
                                                    <i class="fa fa-3x fa-binoculars" aria-hidden="true"></i>
                                                </p>
                                                <h1>Attractions</h1>
                                            </div>
                                            <div class="col-md-12">
                                            <div class="card" style="">
                                                <img class="card-img-top" src="https://images.unsplash.com/photo-1473436303788-ab58469e12df?auto=format&fit=crop&w=1392&q=80" alt="Card image cap">
                                                <div class="card-body">
                                                    <h5 class="card-title" id="attrWayPntName">Attractions Name</h5>
                                                    <p class="card-text" id="attrWayPntDesc">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
                                                </div>
                                            </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="row">
                                            <div class="col-md-12 p-t-15">
                                                <p>
                                                    <i class="fa fa-3x fa-bed" aria-hidden="true"></i>
                                                </p>
                                                <h1>Lodging</h1>
                                            </div>
                                            <div class="col-md-12">
                                            <div class="card" style="">
                                                <img class="card-img-top" src="https://images.unsplash.com/photo-1473436303788-ab58469e12df?auto=format&fit=crop&w=1392&q=80" alt="Card image cap">
                                                <div class="card-body">
                                                    <h5 class="card-title" id="lodgWayPntName">Lodging Name</h5>
                                                    <p class="card-text" id="lodgWayPntDesc">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
                                                </div>
                                            </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="tab-pane fade p-t-40" id="contact" role="tabpanel" aria-labelledby="contact-tab">
                                                                <div class="row">
                                    <div class="col-md-4">
                                        <div class="row">
                                            <div class="col-md-12 p-t-15">
                                                <p>
                                                    <i class="fa fa-3x fa-cutlery" aria-hidden="true"></i>
                                                </p>
                                                <h1>Food</h1>
                                            </div>
                                            <div class="col-md-12">
                                            <div class="card" style="">
                                                <img class="card-img-top" src="https://images.unsplash.com/photo-1473436303788-ab58469e12df?auto=format&fit=crop&w=1392&q=80" alt="Card image cap">
                                                <div class="card-body">
                                                    <h5 class="card-title" id="foodEndPntName">Food Name</h5>
                                                    <p class="card-text" id="foodEndPntDesc">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
                                                </div>
                                            </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="row">
                                            <div class="col-md-12 p-t-15">
                                                <p>
                                                    <i class="fa fa-3x fa-binoculars" aria-hidden="true"></i>
                                                </p>
                                                <h1>Attractions</h1>
                                            </div>
                                            <div class="col-md-12">
                                            <div class="card" style="">
                                                <img class="card-img-top" src="https://images.unsplash.com/photo-1473436303788-ab58469e12df?auto=format&fit=crop&w=1392&q=80" alt="Card image cap">
                                                <div class="card-body">
                                                    <h5 class="card-title" id="attrEndPntName">Attractions Name</h5>
                                                    <p class="card-text" id="attrEndPntName">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
                                                </div>
                                            </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="row">
                                            <div class="col-md-12 p-t-15">
                                                <p>
                                                    <i class="fa fa-3x fa-bed" aria-hidden="true"></i>
                                                </p>
                                                <h1>Lodging</h1>
                                            </div>
                                            <div class="col-md-12">
                                            <div class="card" style="">
                                                <img class="card-img-top" src="https://images.unsplash.com/photo-1473436303788-ab58469e12df?auto=format&fit=crop&w=1392&q=80" alt="Card image cap">
                                                <div class="card-body">
                                                    <h5 class="card-title" id="lodgEndPntName">Lodging Name</h5>
                                                    <p class="card-text" id="lodgEndPntDesc">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
                                                </div>
                                            </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        </div>
        <footer class="blue-black-bg">
        <nav class="navbar navbar-light justify-content-center">
          <ul class="nav justify-content-end p-t-10">
            <li class="nav-item navbar-brand-custom f-c-w f-s-14">
              &copy; ROAM 2018
            </li>
          </ul>
        </nav>
    </footer>
         <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
       <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.slim.min.js" integrity="" crossorigin="anonymous "></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js " integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q " crossorigin="anonymous "></script>
         <!-- slim minified version of JQuery which takes out ajax function -->
    <script src="https://code.jquery.com/jquery-2.1.3.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js " integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl " crossorigin="anonymous "></script>
    <script src="https://use.fontawesome.com/7600238cd3.js "></script>

     <!-- Firebase Reference -->
    <script src="https://www.gstatic.com/firebasejs/4.9.0/firebase.js"></script>

    <!-- restaurant.js Reference -->
    <script type="text/javascript" src="assets/javascript/summary.js"></script>

    <script>
         // Initialize Firebase


  var config = {
    apiKey: "AIzaSyD_apD7d0ocNgkcfY50DUi5e818qUahmrc",
    authDomain: "project-gt-82242.firebaseapp.com",
    databaseURL: "https://project-gt-82242.firebaseio.com",
    projectId: "project-gt-82242",
    storageBucket: "project-gt-82242.appspot.com",
    messagingSenderId: "954443679576"
   };

   firebase.initializeApp(config);


  var selections = {
    "food": {
         "endLctn": ["f1Atlanta Marriott Buckhead Hotel & Conference Center;RATING: 4.1; BUDGET LEVEL: $$; VICINITY: 3405 Lenox Road Northeast, Atlanta"],
         "wayLctn": ["f2Sheraton Atlanta Perimeter North Hotel;RATING: 4; BUDGET LEVEL: $$; VICINITY: 800 Hammond Drive, Atlanta"]
      },
    "lodging": {
         "endLctn": ["l1Stone Mountain Inn;RATING: 4.1; BUDGET LEVEL: $$; VICINITY: 1058 Robert E Lee Drive, Stone Mountain"],
         "wayLctn": ["l2Stone Mountain Inn;RATING: 4.1;  BUDGET LEVEL: $$; VICINITY: 1058 Robert E Lee Drive, Stone Mountain"]
      },
    "attractions": {
         "endLctn": ["a1Villa Christina;RATING: 4.3; BUDGET LEVEL: $$; VICINITY: 4000 Summit Boulevard Northeast, Atlanta"],
         "wayLctn": ["a2Villa Christina;RATING: 4.3; BUDGET LEVEL: $$; VICINITY: 4000 Summit Boulevard Northeast, Atlanta"]
      },
   };


   
   data = firebase.database().ref();

   // load Database for Testing Purposes only
   data.update(selections);
   // end load DB for TESTING


   // will get the selections object from DB
   data.child("selections");
   console.log("DB selections: ", selections);
   // empty object used to load DB object in when retrieved from Firebase DB
   
   
   
   // get each string from database for summary -- only pulling the first array item of each
   
   
   var foodSelWayLcnt = selections.food[0].wayLcnt;
   var foodSelWayLcnt = selections[0].food.wayLcnt;
   
   var lodgSelEndLcnt = selections[0].lodging.endLcnt;
   var foodSelWayLcnt = selections[0].lodging.wayLcnt;
   
   var attrSelEndLcnt = selections[0].attractions.endLcnt;
   var attrSelWayLcnt = selections[0].attractions.wayLcnt;

   console.log("food array (e,w): ",  foodSelEndLcnt, " ", foodSelWayLcnt);
   console.log("lodg array (e,w): ",  lodgSelEndLcnt, " ", lodgSelWayLcnt);
   console.log("attr array (e,w): ",  attrSelEndLcnt, " ", attrSelWayLcnt);
  
   // break string apart into an array of 2 elements - Name and Description

   var feStringArray = foodSelEndLcnt.split(";", 2);
   var fwStringArray = foodSelWayLcnt.split(";", 2);
   
   var leStringArray = lodgSelEndLcnt.split(";", 2);
   var lwStringArray = foodSelWayLcnt.split(";", 2);
   
   var aeStringArray = attrSelEndLcnt.split(";", 2);
   var awStringArray = attrSelWayLcnt.split(";", 2);

   console.log("food array split (e,w): ",  feStringArray, " ", fwStringArray);
   console.log("lodg array split (e,w): ",  leStringArray, " ", lwStringArray);
   console.log("attr array split (e,w): ",  aeStringArray, " ", awStringArray);
  

   // Generate each string item for the DOM -- Food, Attractions, Lodging
   
   var feName = feStringArray[0];
   var feDesc = feStringArray[1];
   var fwName = fwStringArray[0];
   var fwDesc = fwStringArray[1];

   console.log("food end name and desc: ",  feName, " ", feDesc);
   console.log("food way name and desc: ",  fwName, " ", fwDesc);

   $('#foodEndPntName').html(feName);
   $('#foodEndPntDesc').html(feDesc);
   $('#foodWayPntName').html(fwName);
   $('#foodWayPntDesc').html(fwDesc);

   // Location End and Way Point information
   var leName = leStringArray[0];
   var leDesc = leStringArray[1];
   var lwName = lwStringArray[0]; 
   var lwDesc = lwStringArray[1];

   console.log("location end name and desc: ",  leName, " ", leDesc);
   console.log("location way name and desc: ",  lwName, " ", lwDesc);


   $('#locaEndPntName').html(leName);
   $('#locaEndPntDesc').html(leDesc);
   $('#locaWayPntName').html(lwName);
   $('#locaWayPntDesc').html(lwDesc);

   // Attractions End and Way Point information
   var aeName = aeStringArray[0];
   var aeDesc = aeStringArray[1];
   var awName = awStringArray[0];
   var awDesc = awStringArray[1];

   console.log("attractions end name and desc: ",  aeName, " ", aeDesc);
   console.log("attractions way name and desc: ",  awName, " ", awDesc);

   $('#attrEndPntName').html(aeName);
   $('#attrEndPntDesc').html(aeDesc);
   $('#attrWayPntName').html(awName);
   $('#attrWayPntDesc').html(awDesc);



  
    </script>
</body>
</html>